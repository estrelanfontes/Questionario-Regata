<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ get_translations('Question√°rio - Emiss√£o de CO2').pt }} | {{ get_translations('Questionnaire - CO2 Emissions').en }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <div class="text-block">
                <h1>{{ get_translations('Question√°rio de Emiss√£o de CO2').pt }}
                    <span class="en">{{ get_translations('Question√°rio de Emiss√£o de CO2').en }}</span>
                </h1>
            </div>
            <div class="text-block">
                <p>{{ get_translations('Preencha as informa√ß√µes sobre seus deslocamentos para o evento esportivo').pt }}
                    <span class="en">{{ get_translations('Preencha as informa√ß√µes sobre seus deslocamentos para o evento esportivo').en }}</span>
                </p>
            </div>
        </header>
        
        <form action="/submit" method="post" class="questionario-form">
            <div class="form-section">
                <div class="text-block">
                    <h2>{{ get_translations('Informa√ß√µes Pessoais').pt }}
                        <span class="en">{{ get_translations('Informa√ß√µes Pessoais').en }}</span>
                    </h2>
                </div>
                
                <!-- NOVO CAMPO: Pa√≠s de origem -->
                <div class="form-group">
                    <div class="text-block">
                        <label for="pais_origem">{{ get_translations('Pa√≠s de Origem:').pt }}
                            <span class="en">{{ get_translations('Pa√≠s de Origem:').en }}</span>
                        </label>
                    </div>
                    <select id="pais_origem" name="pais_origem" required onchange="atualizarEstados()">
                        <option value="">{{ get_translations('Selecione seu pa√≠s de origem').pt }}
                            <span class="en">{{ get_translations('Selecione seu pa√≠s de origem').en }}</span>
                        </option>
                        {% for pais_pt in paises_portugues %}
                            {% set pais_en = paises_dict.get(pais_pt, pais_pt) %}
                            <option value="{{ pais_pt }}" data-en="{{ pais_en }}">
                                {{ pais_pt }}
                                <span class="en">{{ pais_en }}</span>
                            </option>
                        {% endfor %}
                    </select>
                </div>



                <!-- CAMPO ATUALIZADO: Estado de origem -->
                <div class="form-group">
                    <div class="text-block">
                        <label for="estado_origem">{{ get_translations('Estado de Origem:').pt }}
                            <span class="en">{{ get_translations('Estado de Origem:').en }}</span>
                        </label>
                    </div>
                    <select id="estado_origem" name="estado_origem" required>
                        <option value="">{{ get_translations('Selecione seu estado de origem').pt }}
                            <span class="en">{{ get_translations('Selecione seu estado de origem').en }}</span>
                        </option>
                        {% for estado in estados_brasil %}
                            {% if estado == "N√£o se aplica (estrangeiro)" %}
                                <option value="{{ estado }}" style="font-style: italic; color: #666;">
                                    {{ estado }}
                                    <span class="en">{{ get_translations('N√£o se aplica (estrangeiro)').en }}</span>
                                </option>
                            {% else %}
                                <option value="{{ estado }}">{{ estado }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                    <div class="text-block">
                        <small style="color: #666; font-size: 0.9em;">
                            {{ get_translations("Selecione 'N√£o se aplica' caso seja de outro pa√≠s").pt }}
                            <span class="en">{{ get_translations("Selecione 'N√£o se aplica' caso seja de outro pa√≠s").en }}</span>
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <div class="text-block">
                        <label for="tipo_participante">{{ get_translations('Tipo de Participante:').pt }}
                            <span class="en">{{ get_translations('Tipo de Participante:').en }}</span>
                        </label>
                    </div>
                    <select class="form-control" id="tipo_participante" name="tipo_participante" required>
                        <option value="">{{ get_translations('Selecione seu tipo de participa√ß√£o').pt }}
                            <span class="en">{{ get_translations('Selecione seu tipo de participa√ß√£o').en }}</span>
                        </option>
                        <option value="Velejador/Velejadora">{{ get_translations('Velejador/Velejadora').pt }}
                            <span class="en">{{ get_translations('Velejador/Velejadora').en }}</span>
                        </option>
                        <option value="T√©cnico/T√©cnica">{{ get_translations('T√©cnico/T√©cnica').pt }}
                            <span class="en">{{ get_translations('T√©cnico/T√©cnica').en }}</span>
                        </option>
                        <option value="Acompanhante do atleta">{{ get_translations('Acompanhante do atleta').pt }}
                            <span class="en">{{ get_translations('Acompanhante do atleta').en }}</span>
                        </option>
                        <option value="Comiss√£o de regata">{{ get_translations('Comiss√£o de regata').pt }}
                            <span class="en">{{ get_translations('Comiss√£o de regata').en }}</span>
                        </option>
                        <option value="Prestador/Prestadora de servi√ßo">{{ get_translations('Prestador/Prestadora de servi√ßo').pt }}
                            <span class="en">{{ get_translations('Prestador/Prestadora de servi√ßo').en }}</span>
                        </option>
                        <option value="Organiza√ß√£o">{{ get_translations('Organiza√ß√£o').pt }}
                            <span class="en">{{ get_translations('Organiza√ß√£o').en }}</span>
                        </option>
                        <option value="Outro">{{ get_translations('Outro').pt }}
                            <span class="en">{{ get_translations('Outro').en }}</span>
                        </option>
                    </select>
                </div>

                <div class="form-group">
                    <div class="text-block">
                        <label for="email">{{ get_translations('Email:').pt }}
                            <span class="en">{{ get_translations('Email:').en }}</span>
                        </label>
                    </div>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            
            <div class="form-section">
                <div class="text-block">
                    <h2>{{ get_translations('Deslocamento da sua resid√™ncia at√© o local de hospedagem durante a participa√ß√£o no evento').pt }}
                        <span class="en">{{ get_translations('Deslocamento da sua resid√™ncia at√© o local de hospedagem durante a participa√ß√£o no evento').en }}</span>
                    </h2>
                </div>
                <div class="text-block">
                    <h3>{{ get_translations("(Caso voc√™ resida nas proximidades do evento e n√£o tenha realizado viagem, selecione 'Outros' e insira 'zero' na dist√¢ncia percorrida.)").pt }}
                        <span class="en">{{ get_translations("(Caso voc√™ resida nas proximidades do evento e n√£o tenha realizado viagem, selecione 'Outros' e insira 'zero' na dist√¢ncia percorrida.)").en }}</span>
                    </h3>
                </div>

                <div class="form-group">
                    <br>
                    <div class="text-block">
                        <label for="transporte_cidade">{{ get_translations('Principal meio de transporte utilizado:').pt }}
                            <span class="en">{{ get_translations('Principal meio de transporte utilizado:').en }}</span>
                        </label>
                    </div>
                    <select id="transporte_cidade" name="transporte_cidade" required>
                        <option value="">{{ get_translations('Selecione...').pt }}
                            <span class="en">{{ get_translations('Selecione...').en }}</span>
                        </option>
                        {% for transporte in transportes %}
                        <option value="{{ transporte }}">
                            {{ get_translations(transporte.capitalize()).pt }}
                            <span class="en">{{ get_translations(transporte).en }}</span>
                        </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <div class="text-block">
                        <label for="distancia_cidade">{{ get_translations('Dist√¢ncia m√©dia total percorrida (ida e volta, em km):').pt }}
                            <span class="en">{{ get_translations('Dist√¢ncia m√©dia total percorrida (ida e volta, em km):').en }}</span>
                        </label>
                    </div>
                    <input type="number" id="distancia_cidade" name="distancia_cidade" min="0" step="0.1" required>
                </div>
            
            

                        <!-- Adicione este c√≥digo ap√≥s cada campo de dist√¢ncia -->
            <div class="maps-help-section" style="margin-top: 10px; padding: 10px; background: #e8f4fc; border-radius: 5px;">
                <div class="text-block">
                    <p style="margin: 0 0 8px 0;">
                        <strong>üìç {{ get_translations('Precisa calcular a dist√¢ncia?').pt }}</strong>
                        <span class="en"><strong>üìç {{ get_translations('Need to calculate distance?').en }}</strong></span>
                    </p>
                </div>
                
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <a href="https://www.google.com/maps" 
                    target="_blank" 
                    class="btn-maps-primary"
                    style="padding: 8px 15px; background: #4285F4; color: white; text-decoration: none; border-radius: 4px; display: inline-flex; align-items: center; gap: 5px;">
                        <span style="font-size: 1.2em;">üìç</span>
                        <span>
                            {{ get_translations('Abrir Google Maps').pt }}<br>
                            <small style="font-size: 0.8em; opacity: 0.9;">{{ get_translations('Abrir Google Maps').en }}</small>
                        </span>
                    </a>
                    
                    <a href="#" 
                    onclick="alert('1. Abra Google Maps\n2. Selecione seu trajeto\n3. Escolha um meio de transporte\n4. Multiplique a quilometragem por 2 (ida e volta)\n\n1. Open Google Maps\n2. Select your route\n3. Choose a mode of transportation\n4. Multiply the mileage by 2 (round trip)'); return false;"
                    class="btn-maps-help"
                    style="padding: 8px 15px; background: #f39c12; color: white; text-decoration: none; border-radius: 4px; display: inline-flex; align-items: center; gap: 5px;">
                        <span style="font-size: 1.2em;">‚ùì</span>
                        <span>
                            {{ get_translations('Instru√ß√µes').pt }}<br>
                            <small style="font-size: 0.8em; opacity: 0.9;">{{ get_translations('Instructions').en }}</small>
                        </span>
                    </a>
                </div>
                
                <div class="text-block" style="margin-top: 10px;">
                    <small style="color: #666;">
                        {{ get_translations('Lembrete: Digite o valor da dist√¢ncia TOTAL (ida e volta)').pt }}
                        <span class="en">{{ get_translations('Reminder: Enter TOTAL distance value (round trip)').en }}</span>
                    </small>
                </div>
            </div>
            </div>
            
            <div class="form-section">
                <div class="text-block">
                    <h2>{{ get_translations('Trajeto di√°rio durante o evento (casa/hospedagem - clube - casa/hospedagem).').pt }}
                        <span class="en">{{ get_translations('Trajeto di√°rio durante o evento (casa/hospedagem - clube - casa/hospedagem).').en }}</span>
                    </h2>
                </div>
                
                <div class="form-group">
                    <div class="text-block">
                        <label for="transporte_local">{{ get_translations('Principal meio de transporte utilizado:').pt }}
                            <span class="en">{{ get_translations('Principal meio de transporte utilizado:').en }}</span>
                        </label>
                    </div>
                    <select id="transporte_local" name="transporte_local" required>
                        <option value="">{{ get_translations('Selecione...').pt }}
                            <span class="en">{{ get_translations('Selecione...').en }}</span>
                        </option>
                        {% for transporte in transportes %}
                        <option value="{{ transporte }}">
                            {{ get_translations(transporte.capitalize()).pt }}
                            <span class="en">{{ get_translations(transporte).en }}</span>
                        </option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="form-group">
                    <div class="text-block">
                        <label for="distancia_local">{{ get_translations('Dist√¢ncia m√©dia percorrida por dia (ida e volta, em km):').pt }}
                            <span class="en">{{ get_translations('Dist√¢ncia m√©dia percorrida por dia (ida e volta, em km):').en }}</span>
                        </label>
                    </div>
                    <input type="number" id="distancia_local" name="distancia_local" min="0" step="0.1" required>
        


                                <!-- Adicione este c√≥digo ap√≥s cada campo de dist√¢ncia -->
                <div class="maps-help-section" style="margin-top: 10px; padding: 10px; background: #e8f4fc; border-radius: 5px;">
                    <div class="text-block">
                        <p style="margin: 0 0 8px 0;">
                            <strong>üìç {{ get_translations('Precisa calcular a dist√¢ncia?').pt }}</strong>
                            <span class="en"><strong>üìç {{ get_translations('Need to calculate distance?').en }}</strong></span>
                        </p>
                    </div>
                    
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <a href="https://www.google.com/maps" 
                        target="_blank" 
                        class="btn-maps-primary"
                        style="padding: 8px 15px; background: #4285F4; color: white; text-decoration: none; border-radius: 4px; display: inline-flex; align-items: center; gap: 5px;">
                            <span style="font-size: 1.2em;">üìç</span>
                            <span>
                                {{ get_translations('Abrir Google Maps').pt }}<br>
                                <small style="font-size: 0.8em; opacity: 0.9;">{{ get_translations('Abrir Google Maps').en }}</small>
                            </span>
                        </a>
                        
                        <a href="#" 
                        onclick="alert('1. Abra Google Maps\n2. Selecione seu trajeto\n3. Escolha um meio de transporte\n4. Multiplique a quilometragem por 2 (ida e volta)\n\n1. Open Google Maps\n2. Select your route\n3. Choose a mode of transportation\n4. Multiply the mileage by 2 (round trip)'); return false;"
                        class="btn-maps-help"
                        style="padding: 8px 15px; background: #f39c12; color: white; text-decoration: none; border-radius: 4px; display: inline-flex; align-items: center; gap: 5px;">
                            <span style="font-size: 1.2em;">‚ùì</span>
                            <span>
                                {{ get_translations('Instru√ß√µes').pt }}<br>
                                <small style="font-size: 0.8em; opacity: 0.9;">{{ get_translations('Instructions').en }}</small>
                            </span>
                        </a>
                    </div>
                    
                    <div class="text-block" style="margin-top: 10px;">
                        <small style="color: #666;">
                            {{ get_translations('Lembrete: Digite o valor da dist√¢ncia TOTAL (ida e volta)').pt }}
                            <span class="en">{{ get_translations('Reminder: Enter TOTAL distance value (round trip)').en }}</span>
                        </small>
                    </div>
                </div>
                </div>
                
                <div class="form-group">
                    <div class="text-block">
                        <label for="dias_evento">{{ get_translations('Quantidade de dias em que realizou esse percurso:').pt }}
                            <span class="en">{{ get_translations('Quantidade de dias em que realizou esse percurso:').en }}</span>
                        </label>
                    </div>
                    <input type="number" id="dias_evento" name="dias_evento" min="1" required>
                </div>
            </div>
            
            <div class="form-actions">
                <div class="text-block">
                    <button type="submit" class="btn-primary">{{ get_translations('Calcular Emiss√£o').pt }}
                        <span class="en">{{ get_translations('Calcular Emiss√£o').en }}</span>
                    </button>
                </div>
            </div>
        </form>
        
        <footer>
            <div class="text-block">
                <a href="/">{{ get_translations('Voltar para a p√°gina inicial').pt }}
                    <span class="en">{{ get_translations('Voltar para a p√°gina inicial').en }}</span>
                </a>
            </div>
        </footer>
    </div>

</body>
</html>